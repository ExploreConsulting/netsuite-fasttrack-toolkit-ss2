<!DOCTYPE html><html class="default" lang="en"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="IE=edge"/><title>NetSuite FastTrack Toolkit (NFT) - v7.3.0</title><meta name="description" content="Documentation for NetSuite FastTrack Toolkit (NFT)"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="assets/style.css"/><link rel="stylesheet" href="assets/highlight.css"/><script defer src="assets/main.js"></script><script async src="assets/icons.js" id="tsd-icons-script"></script><script async src="assets/search.js" id="tsd-search-script"></script><script async src="assets/navigation.js" id="tsd-nav-script"></script></head><body><script>document.documentElement.dataset.theme = localStorage.getItem("tsd-theme") || "os";document.body.style.display="none";setTimeout(() => app?app.showPage():document.body.style.removeProperty("display"),500)</script><header class="tsd-page-toolbar"><div class="tsd-toolbar-contents container"><div class="table-cell" id="tsd-search" data-base="."><div class="field"><label for="tsd-search-field" class="tsd-widget tsd-toolbar-icon search no-caption"><svg width="16" height="16" viewBox="0 0 16 16" fill="none"><use href="assets/icons.svg#icon-search"></use></svg></label><input type="text" id="tsd-search-field" aria-label="Search"/></div><div class="field"><div id="tsd-toolbar-links"></div></div><ul class="results"><li class="state loading">Preparing search index...</li><li class="state failure">The search index is not available</li></ul><a href="index.html" class="title">NetSuite FastTrack Toolkit (NFT) - v7.3.0</a></div><div class="table-cell" id="tsd-widgets"><a href="#" class="tsd-widget tsd-toolbar-icon menu no-caption" data-toggle="menu" aria-label="Menu"><svg width="16" height="16" viewBox="0 0 16 16" fill="none"><use href="assets/icons.svg#icon-menu"></use></svg></a></div></div></header><div class="container container-main"><div class="col-content"><div class="tsd-page-title"><h2>NetSuite FastTrack Toolkit (NFT) - v7.3.0</h2></div><div class="tsd-panel tsd-typography"><a id="md:nft-netsuite-fasttrack-toolkit" class="tsd-anchor"></a><h1><a href="#md:nft-netsuite-fasttrack-toolkit">NFT (NetSuite Fasttrack Toolkit)</a></h1><p><em>for SuiteScript 2.x</em></p>
<p>This is a small but powerful framework for writing SuitScript that scales. A primary goal is to 
enable authoring scripts that easy to write and easy to maintain. </p>
<p><em>Includes</em></p>
<ul>
<li>nsdal (Netsuite Data Access Layer) <em>ActiveRecord</em>-like approach using 
predefined and customizable strong types for NetSuite record access including sublist support. </li>
<li>advanced logging facility</li>
<li>advanced search handling (search results are an arbitrarily long stream of objects)</li>
<li>governance management (governance monitoring and automatic script rescheduling)</li>
</ul>
<p><em>also included (only as a convenience, NFT does not depend on these):</em></p>
<ul>
<li><code>immutablejs</code> - used for arbitrary length sequences and elegant search result processing)</li>
<li><code>lodash</code> - NFT enables direct use of this amazing library on NS records and search result collections)</li>
<li><code>momentjs</code> - popular date manipulation library</li>
<li><code>bignumber.js</code> - better decimal math</li>
</ul>
<p>see <code>package-lock.json</code> for exactly which versions of the above libraries are included.</p>
<p>See API <a href="https://exploreconsulting.github.io/netsuite-fasttrack-toolkit-ss2">docs here</a></p>
<p><img src="media/images/NFT-Intro.svg" alt="NFT Intro Image"></p>
<a id="md:getting-started-typescript" class="tsd-anchor"></a><h1><a href="#md:getting-started-typescript">Getting Started (Typescript)</a></h1><p>Install this package as a dependency and the SuiteScript 2.x (SS2) typings from <code>@hitc</code> </p>
<pre><code><span class="hl-0">npm</span><span class="hl-1"> </span><span class="hl-0">install</span><span class="hl-1"> </span><span class="hl-0">netsuite</span><span class="hl-1">-</span><span class="hl-0">fasttrack</span><span class="hl-1">-</span><span class="hl-0">toolkit</span><span class="hl-1">-</span><span class="hl-0">ss2</span><span class="hl-1"> </span><br/><span class="hl-0">npm</span><span class="hl-1"> </span><span class="hl-0">install</span><span class="hl-1"> @</span><span class="hl-0">hitc</span><span class="hl-1">/</span><span class="hl-0">netsuite</span><span class="hl-1">-</span><span class="hl-0">types</span><span class="hl-1"> --</span><span class="hl-0">save</span><span class="hl-1">-</span><span class="hl-0">dev</span><span class="hl-1"> </span>
</code><button>Copy</button></pre>
<a id="md:deploy-core-library-to-ns" class="tsd-anchor"></a><h2><a href="#md:deploy-core-library-to-ns">Deploy core library to NS</a></h2><p>Use the NetSuite file cabinet <em>advanced add</em> button to upload the <code>node_modules/netsuite-fasttrack-toolkit-ss2/dist/NFT-SS2-#.#.#.zip</code> 
file to the same folder in which you place your SuiteScripts. It will extract to a subfolder named NFT-SS2-#.#.#.</p>
<p>If you typically just put your SuiteScripts under the <code>/SuiteScripts/</code> folder in the NS file cabinet then simply 
extract the zip there. 
A recommended practice is to put your SuiteScript 2.0 files under a subfolder, such as <code>SuiteScripts/SS2/</code>. This 
creates a convenient <em>&#39;root&#39;</em> folder for your SS2 projects.</p>
<p>After install you should get a folder link at your project root named NFT-SS2-#.#.#
This creates a folder structure mirroring what you have in NetSuite so you can use relative paths when you 
<code>import</code> from the library (e.g. <code>import {CustomerBase} from &quot;./NFT-SS2-1.2.3/DataAcess/CustomerBase</code>)</p>
<a id="md:netsuite-data-access-layer-nsdal" class="tsd-anchor"></a><h2><a href="#md:netsuite-data-access-layer-nsdal">NetSuite Data Access Layer (NSDAL)</a></h2><p>NSDAL is a variation of the Active Record pattern for working with NetSuite records. It removes boilerplate code and simplifies 
access to NetSuite body fields, sublists, and even subrecords; all reduced to simple objects and properties familiar
to all javascript developers. </p>
<p>Behind the scenes, NSDAL is a thin wrapper eliminating boilerplate code (e.g. <code>getValue({fieldId:&#39;foo&#39;}</code>. 
It still calls all the normal NetSuite APIs.</p>
<p>NSDAL defines NetSuite record types in a class hierarchy. You can use the xxxBase classes directly if you donâ€™t need custom fields. 
Otherwise you derive your own class and add custom fields as shown in the code example that follows.</p>
<p>Subrecord support! Take a look at the <code>CustomerBase.addressbook</code> sublist.
<code>CustomerBase.addressbook[0].addressbookaddress</code> gets the strongly typed <code>AddressBase</code> SubRecord. It works mostly like any 
other record you just don&#39;t explicitly <code>save()</code> it. </p>
<p>Works with SuiteScript 2.0 and 2.1. </p>
<a id="md:overview-example" class="tsd-anchor"></a><h3><a href="#md:overview-example">Overview Example</a></h3><pre><code class="language-typescript"><br/><br/><span class="hl-2">/**</span><br/><span class="hl-2"> * Test file for SuiteScript 2.0 </span><br/><span class="hl-2"> * (replace &#39;NFT/&#39; below with the relative path to your NFT-SS2-x.y.z folder)</span><br/><span class="hl-2"> * </span><span class="hl-3">@NApiVersion</span><span class="hl-2"> 2.x</span><br/><span class="hl-2"> * </span><span class="hl-3">@NScriptType</span><span class="hl-2"> Suitelet</span><br/><span class="hl-2"> */</span><br/><br/><span class="hl-4">import</span><span class="hl-1"> </span><span class="hl-3">*</span><span class="hl-1"> </span><span class="hl-4">as</span><span class="hl-1"> </span><span class="hl-0">LogManager</span><span class="hl-1"> </span><span class="hl-4">from</span><span class="hl-1"> </span><span class="hl-5">&#39;NFT/EC_Logger&#39;</span><br/><span class="hl-4">import</span><span class="hl-1"> {</span><span class="hl-0">CustomerBase</span><span class="hl-1">} </span><span class="hl-4">from</span><span class="hl-1">  </span><span class="hl-5">&#39;NFT/DataAccess/CustomerBase&#39;</span><br/><span class="hl-4">import</span><span class="hl-1"> {</span><span class="hl-0">FieldType</span><span class="hl-1">} </span><span class="hl-4">from</span><span class="hl-1"> </span><span class="hl-5">&#39;NFT/DataAccess/Record&#39;</span><br/><span class="hl-4">import</span><span class="hl-1"> {</span><span class="hl-0">SublistFieldType</span><span class="hl-1">,</span><span class="hl-0">Sublist</span><span class="hl-1">,</span><span class="hl-0">SublistLine</span><span class="hl-1">} </span><span class="hl-4">from</span><span class="hl-1"> </span><span class="hl-5">&#39;NFT/DataAccess/Sublist&#39;</span><br/><span class="hl-4">import</span><span class="hl-1"> </span><span class="hl-3">*</span><span class="hl-1"> </span><span class="hl-4">as</span><span class="hl-1"> </span><span class="hl-0">_</span><span class="hl-1"> </span><span class="hl-4">from</span><span class="hl-1"> </span><span class="hl-5">&#39;NFT/lodash&#39;</span><br/><br/><span class="hl-2">// each script should request the DefaultLogger</span><br/><span class="hl-3">var</span><span class="hl-1"> </span><span class="hl-0">log</span><span class="hl-1"> = </span><span class="hl-0">LogManager</span><span class="hl-1">.</span><span class="hl-0">DefaultLogger</span><br/><br/><span class="hl-2">/**</span><br/><span class="hl-2">* Define fields for the &#39;contactroles&#39; sublist on customer</span><br/><span class="hl-2">*/</span><br/><span class="hl-3">class</span><span class="hl-1"> </span><span class="hl-6">ContactRolesSublist</span><span class="hl-1"> </span><span class="hl-3">extends</span><span class="hl-1"> </span><span class="hl-6">SublistLine</span><span class="hl-1"> {</span><br/><span class="hl-1">   </span><span class="hl-2">// the country internal id</span><br/><span class="hl-1">   @</span><span class="hl-0">SublistFieldType</span><span class="hl-1">.</span><span class="hl-0">select</span><br/><span class="hl-1">   </span><span class="hl-0">role</span><span class="hl-1">: </span><span class="hl-6">number</span><br/><br/><span class="hl-1">   </span><span class="hl-2">// adding `Text` suffix to field name surfaces the text value</span><br/><span class="hl-1">   </span><span class="hl-2">// instead of internalid</span><br/><span class="hl-1">   @</span><span class="hl-0">SublistFieldType</span><span class="hl-1">.</span><span class="hl-0">select</span><br/><span class="hl-1">   </span><span class="hl-0">roleText</span><span class="hl-1">: </span><span class="hl-6">string</span><br/><span class="hl-1">}</span><br/><br/><span class="hl-2">/**</span><br/><span class="hl-2"> * define a customer class for our NetSuite account including custom fields. Standard fields come from customer.Base </span><br/><span class="hl-2"> * so we don&#39;t have to repeat them here. This Customer class could be in a separate file/folder (e.g RecordTypes/Customer.ts) and </span><br/><span class="hl-2"> * reused across all scripts via `import {Customer} from &quot;./RecordTypes/Customer&quot;`</span><br/><span class="hl-2"> */</span><br/><span class="hl-3">class</span><span class="hl-1"> </span><span class="hl-6">Customer</span><span class="hl-1"> </span><span class="hl-3">extends</span><span class="hl-1"> </span><span class="hl-6">CustomerBase</span><span class="hl-1"> {</span><br/><span class="hl-1">   @</span><span class="hl-0">FieldType</span><span class="hl-1">.</span><span class="hl-0">multiselect</span><br/><span class="hl-1">   </span><span class="hl-0">custentity_multiselect</span><span class="hl-1">:</span><span class="hl-6">number</span><span class="hl-1">[]</span><br/><br/><span class="hl-1">   @</span><span class="hl-0">FieldType</span><span class="hl-1">.</span><span class="hl-0">datetime</span><br/><span class="hl-1">   </span><span class="hl-0">custentity_shawn_date</span><span class="hl-1"> : </span><span class="hl-6">Date</span><br/><span class="hl-1">   </span><br/><span class="hl-1">   </span><span class="hl-2">// add &#39;Text&#39; suffix to any property to `getText()` instead of `getValue()`</span><br/><span class="hl-1">   @</span><span class="hl-0">FieldType</span><span class="hl-1">.</span><span class="hl-0">datetime</span><br/><span class="hl-1">   </span><span class="hl-0">custentity_shawn_dateText</span><span class="hl-1">: </span><span class="hl-6">string</span><br/><span class="hl-1">   </span><br/><span class="hl-1">   @</span><span class="hl-0">FieldType</span><span class="hl-1">.</span><span class="hl-7">sublist</span><span class="hl-1">(</span><span class="hl-0">ContactRolesSublist</span><span class="hl-1">)</span><br/><span class="hl-1">   </span><span class="hl-0">contactroles</span><span class="hl-1">: </span><span class="hl-6">Sublist</span><span class="hl-1">&lt;</span><span class="hl-6">ContactRolesSublist</span><span class="hl-1">&gt;</span><br/><span class="hl-1">}</span><br/><br/><br/><span class="hl-4">export</span><span class="hl-1"> = {</span><br/><br/><span class="hl-1">   </span><span class="hl-7">onRequest</span><span class="hl-0">:</span><span class="hl-1"> (</span><span class="hl-0">req</span><span class="hl-1">, </span><span class="hl-0">resp</span><span class="hl-1">) </span><span class="hl-3">=&gt;</span><span class="hl-1"> {</span><br/><br/><span class="hl-1">      </span><span class="hl-2">// load customer internal id 1542</span><br/><span class="hl-1">      </span><span class="hl-3">var</span><span class="hl-1"> </span><span class="hl-0">c</span><span class="hl-1"> = </span><span class="hl-3">new</span><span class="hl-1"> </span><span class="hl-7">Customer</span><span class="hl-1">(</span><span class="hl-8">1542</span><span class="hl-1">)</span><br/><br/><span class="hl-1">      </span><span class="hl-2">// strongly typed field access</span><br/><span class="hl-1">      </span><span class="hl-0">c</span><span class="hl-1">.</span><span class="hl-0">companyname</span><span class="hl-1"> = </span><span class="hl-5">&#39;a new company name&#39;</span><br/><span class="hl-1">      </span><span class="hl-0">c</span><span class="hl-1">.</span><span class="hl-0">custentity_multiselect</span><span class="hl-1"> = [</span><span class="hl-8">1</span><span class="hl-1">, </span><span class="hl-8">2</span><span class="hl-1">]</span><br/><span class="hl-1">      </span><span class="hl-0">c</span><span class="hl-1">.</span><span class="hl-0">custentity_a_date</span><span class="hl-1"> = </span><span class="hl-3">new</span><span class="hl-1"> </span><span class="hl-7">Date</span><span class="hl-1">()</span><br/><span class="hl-1">      </span><span class="hl-2">// access `role` field VALUE of first contact role </span><br/><span class="hl-1">      </span><span class="hl-0">c</span><span class="hl-1">.</span><span class="hl-0">contactroles</span><span class="hl-1">[</span><span class="hl-8">0</span><span class="hl-1">].</span><span class="hl-0">role</span><span class="hl-1"> </span><br/><span class="hl-1">      </span><span class="hl-2">// access `country` field TEXT of first contact role</span><br/><span class="hl-1">      </span><span class="hl-0">c</span><span class="hl-1">.</span><span class="hl-0">contactroles</span><span class="hl-1">[</span><span class="hl-8">0</span><span class="hl-1">].</span><span class="hl-0">roleText</span><br/><br/><span class="hl-1">      </span><span class="hl-2">// persist changes</span><br/><span class="hl-1">      </span><span class="hl-0">c</span><span class="hl-1">.</span><span class="hl-7">save</span><span class="hl-1">();</span><br/><br/><span class="hl-1">      </span><span class="hl-2">// just log a couple properties from our customer object</span><br/><span class="hl-1">      </span><span class="hl-0">log</span><span class="hl-1">.</span><span class="hl-7">debug</span><span class="hl-1">(</span><span class="hl-5">&#39;customer&#39;</span><span class="hl-1">, </span><span class="hl-0">_</span><span class="hl-1">.</span><span class="hl-7">pick</span><span class="hl-1">(</span><span class="hl-0">c</span><span class="hl-1">,[</span><span class="hl-5">&#39;custentity_a_date&#39;</span><span class="hl-1">, </span><span class="hl-5">&#39;companyname&#39;</span><span class="hl-1">]))</span><br/><span class="hl-1">      </span><br/><span class="hl-1">      </span><span class="hl-2">// address book - including experimental subrecord access</span><br/><span class="hl-1">      </span><span class="hl-2">// get addressbook subrecord of first address on the customer</span><br/><span class="hl-1">      </span><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-9">addrSubRecord</span><span class="hl-1"> = </span><span class="hl-0">c</span><span class="hl-1">.</span><span class="hl-0">addressbook</span><span class="hl-1">[</span><span class="hl-8">0</span><span class="hl-1">].</span><span class="hl-0">addressbookaddress</span><br/><span class="hl-1">      </span><span class="hl-2">// addrSubRecord has fields like addr1, addr2, city, country, state, addrphone etc.</span><br/><span class="hl-1">      </span><span class="hl-0">log</span><span class="hl-1">.</span><span class="hl-7">debug</span><span class="hl-1">(</span><span class="hl-5">&#39;address subrecord&#39;</span><span class="hl-1">, </span><span class="hl-0">addrSubRecord</span><span class="hl-1">)</span><br/><span class="hl-1">   }</span><br/><span class="hl-1">}</span><br/>
</code><button>Copy</button></pre>
<p><strong>see also <a href="https://github.com/ExploreConsulting/netsuite-fasttrack-toolkit-ss2/blob/master/example.ts"><code>example.ts</code></a></strong></p>
<p>NetSuite record definitions are contained in a class hierarchy to simplify defining them. You generally only work with 
the bundled base classes, or derive your own e.g. use <code>CustomerBase</code> directly or define <code>class Customer extends CustomerBase</code>
as shown in the example above.</p>
<p><img src="media/images/NFT-NSDAL-Inheritance.png" alt="NSDAL Inheritance Diagram"></p>
<a id="md:custom-records" class="tsd-anchor"></a><h2><a href="#md:custom-records">Custom Records</a></h2><p>Defining custom records is similar to standard records but you inherit from <code>NetSuiteRecord</code> and
define the <code>recordType()</code> method.</p>
<pre><code class="language-typescript"><span class="hl-4">export</span><span class="hl-1"> </span><span class="hl-3">class</span><span class="hl-1"> </span><span class="hl-6">MyCustomRecord</span><span class="hl-1"> </span><span class="hl-3">extends</span><span class="hl-1"> </span><span class="hl-6">NetsuiteRecord</span><span class="hl-1"> {</span><br/><span class="hl-1"> </span><span class="hl-3">static</span><span class="hl-1"> </span><span class="hl-7">recordType</span><span class="hl-1"> () { </span><span class="hl-4">return</span><span class="hl-1"> </span><span class="hl-5">&#39;customrecord_myrecord&#39;</span><span class="hl-1"> }</span><br/><br/><span class="hl-1"> </span><span class="hl-2">/**</span><br/><span class="hl-2">  * Custom Name</span><br/><span class="hl-2">  */</span><br/><span class="hl-1"> @</span><span class="hl-0">FieldType</span><span class="hl-1">.</span><span class="hl-0">freeformtext</span><br/><span class="hl-1"> </span><span class="hl-0">custrecord__name</span><span class="hl-1">: </span><span class="hl-6">string</span><br/><span class="hl-1">}</span><br/><br/>
</code><button>Copy</button></pre>
<p>See the <code>CodeGeneration/</code> folder for information on generating these custom record classes automatically. </p>
<a id="md:sublists-and-subrecords" class="tsd-anchor"></a><h2><a href="#md:sublists-and-subrecords">Sublists and Subrecords</a></h2><p>Use <code>@FieldType.subrecord</code> and <code>@SublistFieldType.subrecord</code> to designate fields that
point to NetSuite subrecords. Use them similarly to the <code>sublist</code> field type.</p>
<p>Initially we have <code>Address</code> and <code>InventoryDetail</code> subrecords defined.</p>
<p>This lets you work with subrecords as plain javascript objects just like the rest of
NSDAL. e.g.</p>
<pre><code><span class="hl-1">    </span><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-9">build</span><span class="hl-1"> = </span><span class="hl-3">new</span><span class="hl-1"> </span><span class="hl-7">AssemblyBuild</span><span class="hl-1">(</span><span class="hl-8">123</span><span class="hl-1">)</span><br/><span class="hl-1">    </span><br/><span class="hl-1">    </span><span class="hl-2">// reading the quantity field of the InventoryDetail body field on Assembly Build record </span><br/><span class="hl-1">    </span><span class="hl-0">build</span><span class="hl-1">.</span><span class="hl-0">inventorydetail</span><span class="hl-1">.</span><span class="hl-0">quantity</span><span class="hl-1"> </span><br/><span class="hl-1">   </span>
</code><button>Copy</button></pre>
<a id="md:bodysublist-field-name-conflicts" class="tsd-anchor"></a><h3><a href="#md:bodysublist-field-name-conflicts">Body/Sublist Field Name Conflicts</a></h3><p>A <em>body</em> field name can conflict with a sublist name (e.g. &quot;currency&quot; can be both a body level field name and a sublist 
name on some record types). </p>
<p>To work around this, add a <code>Sublist</code> suffix to your sublist field name in the class definition. For example:</p>
<pre><code class="language-typescript"><span class="hl-4">import</span><span class="hl-1"> { </span><span class="hl-0">SublistFieldType</span><span class="hl-1"> } </span><span class="hl-4">from</span><span class="hl-1"> </span><span class="hl-5">&#39;./Sublist&#39;</span><br/><span class="hl-4">import</span><span class="hl-1"> { </span><span class="hl-0">CurrencySublist</span><span class="hl-1"> } </span><span class="hl-4">from</span><span class="hl-1"> </span><span class="hl-5">&#39;./CustomerBase&#39;</span><br/><span class="hl-4">import</span><span class="hl-1"> { </span><span class="hl-0">FieldType</span><span class="hl-1"> } </span><span class="hl-4">from</span><span class="hl-1"> </span><span class="hl-5">&#39;./Record&#39;</span><br/><br/><span class="hl-3">class</span><span class="hl-1"> </span><span class="hl-6">Customer</span><span class="hl-1"> {</span><br/><br/><span class="hl-1">  @</span><span class="hl-7">Sublist</span><span class="hl-1">(</span><span class="hl-0">CurrencySublist</span><span class="hl-1">)</span><br/><span class="hl-1">  </span><span class="hl-0">currencySublist</span><span class="hl-1">: </span><span class="hl-6">Sublist</span><span class="hl-1">&lt;</span><span class="hl-6">CurrencySublist</span><span class="hl-1">&gt;</span><br/><br/><span class="hl-1">  @</span><span class="hl-0">FieldType</span><span class="hl-1">.</span><span class="hl-0">select</span><br/><span class="hl-1">  </span><span class="hl-0">currency</span><span class="hl-1">: </span><span class="hl-6">number</span><br/><span class="hl-1">}</span><br/>
</code><button>Copy</button></pre>
<a id="md:sublist-dynamic-mode-vs-standard-mode" class="tsd-anchor"></a><h4><a href="#md:sublist-dynamic-mode-vs-standard-mode">Sublist Dynamic Mode vs Standard Mode</a></h4><p>By default, dynamic mode APIs (e.g. <code>set**Current**SublistValue()</code>)) are used if the record itself is in dynamic mode.
This is <em>usually</em> what you want. In some cases it&#39;s beneficial to use <em>standard mode</em> API even if the record itself
is in <em>dynamic mode</em> (e.g. reading the <code>apply</code> sublist on a <code>VendorPayment</code>). To temporarily turn off dynamic mode APIs
for sublist access set <code>useDynamicModeAPI = false</code> on the sublist property.</p>
<pre><code class="language-typescript"><span class="hl-4">import</span><span class="hl-1"> { </span><span class="hl-0">VendorPaymentBase</span><span class="hl-1"> } </span><span class="hl-4">from</span><span class="hl-1"> </span><span class="hl-5">&#39;./VendorPaymentBase&#39;</span><br/><br/><span class="hl-2">// assume this is in a dynamic record context, like a client script.</span><br/><span class="hl-2">// the NetSuite record is in dynamic mode, so by default NFT uses dynamic mode API calls.</span><br/><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-9">vp</span><span class="hl-1"> = </span><span class="hl-3">new</span><span class="hl-1"> </span><span class="hl-7">VendorPaymentBase</span><span class="hl-1">(</span><span class="hl-0">ctx</span><span class="hl-1">.</span><span class="hl-0">newRecord</span><span class="hl-1">) </span><br/><span class="hl-2">// temporarily turn off dynamic mode - hence uses standard mode APIs </span><br/><span class="hl-0">vp</span><span class="hl-1">.</span><span class="hl-0">apply</span><span class="hl-1">.</span><span class="hl-0">useDynamicModeAPI</span><span class="hl-1"> = </span><span class="hl-3">false</span><br/><span class="hl-2">// do something with lines of the `apply` sublist </span><br/><span class="hl-0">log</span><span class="hl-1">.</span><span class="hl-7">debug</span><span class="hl-1">(</span><span class="hl-5">&#39;first apply line&#39;</span><span class="hl-1">, </span><span class="hl-0">vp</span><span class="hl-1">.</span><span class="hl-0">apply</span><span class="hl-1">[</span><span class="hl-8">0</span><span class="hl-1">])</span><br/><span class="hl-0">vp</span><span class="hl-1">.</span><span class="hl-0">apply</span><span class="hl-1">.</span><span class="hl-0">useDynamicModeAPI</span><span class="hl-1"> = </span><span class="hl-3">true</span><span class="hl-1"> </span><span class="hl-2">// reset back to dynamic mode API calls</span>
</code><button>Copy</button></pre>
<a id="md:search-helpers" class="tsd-anchor"></a><h2><a href="#md:search-helpers">Search Helpers</a></h2><p><code>nsSearchResult2obj</code> turns a netsuite <code>search.Result</code> into a POJO, especially useful when chaining operations or returning
search results from an API. </p>
<pre><code class="language-typescript"><br/><span class="hl-4">import</span><span class="hl-1"> {</span><span class="hl-0">nsSearchResult2obj</span><span class="hl-1">} </span><span class="hl-4">from</span><span class="hl-1"> </span><span class="hl-5">&quot;NFT/search&quot;</span><br/><span class="hl-4">import</span><span class="hl-1"> </span><span class="hl-3">*</span><span class="hl-1"> </span><span class="hl-4">as</span><span class="hl-1"> </span><span class="hl-0">search</span><span class="hl-1"> </span><span class="hl-4">from</span><span class="hl-1"> </span><span class="hl-5">&quot;N/search&quot;</span><br/><br/><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-9">s</span><span class="hl-1"> = </span><span class="hl-0">search</span><span class="hl-1">.</span><span class="hl-7">load</span><span class="hl-1">({ </span><span class="hl-0">id:</span><span class="hl-1"> </span><span class="hl-5">&#39;somesearchid&#39;</span><span class="hl-1"> } ).</span><span class="hl-7">run</span><span class="hl-1">().</span><span class="hl-7">getRange</span><span class="hl-1">({</span><span class="hl-0">start:</span><span class="hl-8">0</span><span class="hl-1">, </span><span class="hl-0">end:</span><span class="hl-8">1000</span><span class="hl-1">})</span><br/><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-9">objects</span><span class="hl-1"> = </span><span class="hl-0">_</span><span class="hl-1">.</span><span class="hl-7">map</span><span class="hl-1">(</span><span class="hl-0">s</span><span class="hl-1">,</span><span class="hl-7">nsSearchResult2obj</span><span class="hl-1">()).</span><span class="hl-7">toArray</span><span class="hl-1">()</span><br/><br/><span class="hl-2">// objects will be array of plain javascript objects with property names matching the field names in netsuite.</span><br/><span class="hl-2">// fields with a non-falsey &#39;Text&#39; value surface as properties suffixed with &quot;Text&quot;</span><br/><span class="hl-2">// e.g. `result.fieldname` or `result.fieldnameText`</span><br/><br/><span class="hl-2">// see inline help for more (e.g. support for column labels</span><br/>
</code><button>Copy</button></pre>
<a id="md:lazy-search" class="tsd-anchor"></a><h3><a href="#md:lazy-search">Lazy Search</a></h3><p>While <code>nsSearchResult2obj()</code> is useful on its own, we usually use it with <code>LazySearch</code>. This adds powerful and <em>lazy</em> processing of
search results. Here &#39;lazy&#39; means records are paged in from the search, as needed, never consuming more than 1 page 
in memory at a time. Contrast this with <code>underscore</code> or <code>lodash</code> which create complete copies of the target collection
for each chained operation by default.</p>
<p>For example <code>_.map(searchResults, ...)</code> creates a <strong>new collection</strong> in memory holding the output of the <code>map</code>, 
doubling overall memory use (<code>searchResults</code> remains unchanged, and <code>map()</code> emits a new collection of the same
length as <code>searchResults</code>)</p>
<p><code>LazySearch</code> processes one result at a time, passing it through all chained operation methods. It never creates intermediate
collections or exceeds 1 page of results stored in memory. This bounded memory usage holds true whether there are 1 or 
1 million search results. The limitation is <code>LazySearch</code> is intended for <em>forward-only</em> iteration of search results - which we
 find is overwhelmingly the most common use case.</p>
<pre><code class="language-typescript"><span class="hl-4">import</span><span class="hl-1"> {</span><span class="hl-0">nsSearchResult2obj</span><span class="hl-1">, </span><span class="hl-0">LazySearch</span><span class="hl-1">} </span><span class="hl-4">from</span><span class="hl-1"> </span><span class="hl-5">&quot;./search&quot;</span><br/><span class="hl-4">import</span><span class="hl-1"> {</span><span class="hl-0">Seq</span><span class="hl-1">} </span><span class="hl-4">from</span><span class="hl-1"> </span><span class="hl-5">&quot;immutable&quot;</span><br/><br/><span class="hl-2">// get the first result as a POJO </span><br/><span class="hl-3">let</span><span class="hl-1"> </span><span class="hl-0">firstResultAsObj</span><span class="hl-1"> = </span><span class="hl-7">Seq</span><span class="hl-1">(</span><span class="hl-0">LazySearch</span><span class="hl-1">.</span><span class="hl-7">load</span><span class="hl-1">(</span><span class="hl-5">&quot;123&quot;</span><span class="hl-1">)).</span><span class="hl-7">map</span><span class="hl-1">(</span><span class="hl-7">nsSearchResult2obj</span><span class="hl-1">&lt;{</span><span class="hl-0">foo</span><span class="hl-1">,</span><span class="hl-0">bar</span><span class="hl-1">}&gt;()).</span><span class="hl-7">first</span><span class="hl-1">()</span>
</code><button>Copy</button></pre>
<p>Also see <a href="https://exploreconsulting.github.io/netsuite-fasttrack-toolkit-ss2/modules/search.html">search</a> in the API documentation,
especially the <code>LazySearch</code> class.</p>
<a id="md:lazy-query" class="tsd-anchor"></a><h3><a href="#md:lazy-query">Lazy Query</a></h3><pre><code class="language-typescript"><span class="hl-4">import</span><span class="hl-1"> {</span><span class="hl-0">nsQueryResult2obj</span><span class="hl-1">, </span><span class="hl-0">LazyQuery</span><span class="hl-1">} </span><span class="hl-4">from</span><span class="hl-1"> </span><span class="hl-5">&quot;./query&quot;</span><span class="hl-1">;</span><br/><span class="hl-4">import</span><span class="hl-1"> {</span><span class="hl-0">Seq</span><span class="hl-1">} </span><span class="hl-4">from</span><span class="hl-1"> </span><span class="hl-5">&#39;immutable&#39;</span><br/><br/><span class="hl-2">// get the ids of all customers with a specific subsidiary</span><br/><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-9">customers</span><span class="hl-1"> = </span><span class="hl-7">Seq</span><span class="hl-1">(</span><span class="hl-0">LazyQuery</span><span class="hl-1">.</span><span class="hl-7">from</span><span class="hl-1">({</span><span class="hl-0">query:</span><span class="hl-1"> </span><span class="hl-5">`SELECT ID AS FOO FROM Customer WHERE subsidiary = ?`</span><span class="hl-1">, </span><span class="hl-0">params:</span><span class="hl-1"> [</span><span class="hl-8">1</span><span class="hl-1">]}, </span><span class="hl-8">50</span><span class="hl-1">)).</span><span class="hl-7">map</span><span class="hl-1">(</span><span class="hl-0">nsQueryResult2obj</span><span class="hl-1">)</span>
</code><button>Copy</button></pre>
<a id="md:governance" class="tsd-anchor"></a><h3><a href="#md:governance">Governance</a></h3><p>The governance handler utilties can be used with any script, but most often are used with a saved search in 
a scheduled script.</p>
<p>There are two functions, one for checking governance usage (<code>governanceRemains()</code>) and another which additionally
auto-reschedules the currently executing script (<code>rescheduleIfNeeded()</code>)</p>
<p><code>governanceRemains</code> supports parameters for setting thresholds on both time and units usage. See the tsdocs for more on this function.</p>
<p><code>rescheduleIfNeeded</code> executes the passed predicate, and if it returns false it automatically 
reschedules the script (using <code>N/task</code>) passing along script parameters if provided.</p>
<p>Example: exit processing automatically when governance falls below time or units threshold.</p>
<pre><code class="language-typescript"><span class="hl-4">import</span><span class="hl-1"> {</span><span class="hl-0">nsSearchResult2obj</span><span class="hl-1">, </span><span class="hl-0">LazySearch</span><span class="hl-1">} </span><span class="hl-4">from</span><span class="hl-1"> </span><span class="hl-5">&quot;./search&quot;</span><br/><span class="hl-4">import</span><span class="hl-1"> {</span><span class="hl-0">governanceRemains</span><span class="hl-1">, </span><span class="hl-0">rescheduleIfNeeded</span><span class="hl-1">} </span><span class="hl-4">from</span><span class="hl-1"> </span><span class="hl-5">&quot;./governance&quot;</span><br/><span class="hl-4">import</span><span class="hl-1"> {</span><span class="hl-0">Seq</span><span class="hl-1">} </span><span class="hl-4">from</span><span class="hl-1"> </span><span class="hl-5">&quot;immutable&quot;</span><br/><br/><br/><span class="hl-2">// process results from search id &#39;123&#39; until out of governance. Governance checks are run for each iteration of the </span><br/><span class="hl-2">// `forEach()` and gracefully exit. </span><br/><span class="hl-7">Seq</span><span class="hl-1">(</span><span class="hl-0">LazySearch</span><span class="hl-1">.</span><span class="hl-7">load</span><span class="hl-1">(</span><span class="hl-5">&quot;123&quot;</span><span class="hl-1">)).</span><span class="hl-7">takeWhile</span><span class="hl-1">(</span><span class="hl-7">governanceRemains</span><span class="hl-1">()).</span><span class="hl-7">map</span><span class="hl-1">(</span><span class="hl-7">nsSearchResult2obj</span><span class="hl-1">()).</span><span class="hl-7">forEach</span><span class="hl-1">( </span><span class="hl-0">result</span><span class="hl-1"> </span><span class="hl-3">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">   </span><span class="hl-2">// .. do something with search result. </span><br/><span class="hl-1">})</span><br/><br/><br/><span class="hl-2">// same as above, but with automatic graceful exit AND rescheduling</span><br/><span class="hl-7">Seq</span><span class="hl-1">(</span><span class="hl-0">LazySearch</span><span class="hl-1">.</span><span class="hl-7">load</span><span class="hl-1">(</span><span class="hl-5">&quot;123&quot;</span><span class="hl-1">))</span><br/><span class="hl-1">   .</span><span class="hl-7">takeWhile</span><span class="hl-1">( </span><span class="hl-7">rescheduleIfNeeded</span><span class="hl-1">(</span><span class="hl-7">governanceRemains</span><span class="hl-1">()) )</span><br/><span class="hl-1">   .</span><span class="hl-7">map</span><span class="hl-1">(</span><span class="hl-7">nsSearchResult2obj</span><span class="hl-1">&lt;{</span><span class="hl-0">foo</span><span class="hl-1">,</span><span class="hl-0">bar</span><span class="hl-1">,</span><span class="hl-0">baz</span><span class="hl-1">}&gt;())</span><br/><span class="hl-1">   .</span><span class="hl-7">forEach</span><span class="hl-1">( </span><span class="hl-0">result</span><span class="hl-1"> </span><span class="hl-3">=&gt;</span><span class="hl-1"> { </span><br/><span class="hl-1">   </span><span class="hl-2">// .. do something with search result. </span><br/><span class="hl-1">   })</span><br/>
</code><button>Copy</button></pre>
<p>Also see <a href="https://exploreconsulting.github.io/netsuite-fasttrack-toolkit-ss2/modules/_governance_.html">governance</a> API docs</p>
<a id="md:logging" class="tsd-anchor"></a><h2><a href="#md:logging">Logging</a></h2><p>NFT provides an advanced logging mechanism based on <a href="https://github.com/aurelia/logging">Aurelia&#39;s</a> logger. </p>
<p>It means you can have multiple loggers and control the logging verbosity of each. In other words, it&#39;s a lightweight
but much richer logging facility than the NetSuite provided logger.</p>
<a id="md:autologging" class="tsd-anchor"></a><h3><a href="#md:autologging">AutoLogging</a></h3><p>Automatically log entry and exit of methods with rich options by adding a line like this to the end of your script:</p>
<pre><code class="language-javascript"><span class="hl-0">LogManager</span><span class="hl-1">.</span><span class="hl-7">autoLogMethodEntryExit</span><span class="hl-1">({</span><span class="hl-0">target:</span><span class="hl-9">EC</span><span class="hl-1">,</span><span class="hl-0">method:</span><span class="hl-10">/\w/</span><span class="hl-1">}, { </span><span class="hl-0">withProfiling:</span><span class="hl-3">true</span><span class="hl-1"> })</span>
</code><button>Copy</button></pre>
<p>The above line will automatically log all methods defined on the <em>EC</em> object/namespace</p>
<p>Other configuration options include automatic logging of execution time, governance usage, and other goodies.</p>
<p>See the jsdoc help for <code>autologMethodEntryExit()</code></p>
<a id="md:contributing" class="tsd-anchor"></a><h1><a href="#md:contributing">Contributing</a></h1><p>Please do.</p>
<a id="md:typescript" class="tsd-anchor"></a><h1><a href="#md:typescript">TypeScript</a></h1><p>This is written with TS and is recommended. However, it can be used by javascript clients as well.</p>
<p>Configure tsconfig to include <code>paths</code> for NetSuite modules and NFT modules:</p>
<pre><code class="language-json"><span class="hl-1">{</span><br/><span class="hl-1">  </span><span class="hl-11">&quot;paths&quot;</span><span class="hl-1">: {</span><br/><span class="hl-1">    </span><span class="hl-11">&quot;N/*&quot;</span><span class="hl-1">: [</span><br/><span class="hl-1">      </span><span class="hl-5">&quot;node_modules/@hitc/netsuite-types/N/*&quot;</span><br/><span class="hl-1">    ]</span><br/><span class="hl-1">  }</span><br/><span class="hl-1">}</span>
</code><button>Copy</button></pre>
<a id="md:netsuite-module-declarations" class="tsd-anchor"></a><h2><a href="#md:netsuite-module-declarations">NetSuite Module Declarations</a></h2><ul>
<li>Typescript definitions (<em>N/*.d.ts</em> files) are defined via the 
<a href="https://www.npmjs.com/package/@hitc/netsuite-types">@hitc/netsuite-types</a> project</li>
</ul>
<a id="md:tests" class="tsd-anchor"></a><h1><a href="#md:tests">Tests</a></h1><p>The <code>test/</code> folder is configured to use <code>ts-jest</code> to compile the sources.</p>
<p>to run the test suite:</p>
<pre><code><span class="hl-0">npm</span><span class="hl-1"> </span><span class="hl-0">test</span>
</code><button>Copy</button></pre>
<a id="md:for-contributors" class="tsd-anchor"></a><h1><a href="#md:for-contributors">For Contributors</a></h1><p>The following are useful if you&#39;re contributing to the codebase and publishing to NPM
Skip this section if you&#39;re just using NFT in your projects. </p>
<a id="md:build-and-publish" class="tsd-anchor"></a><h2><a href="#md:build-and-publish">Build and Publish</a></h2><pre><code><span class="hl-0">node_modules</span><span class="hl-1">/.</span><span class="hl-0">bin</span><span class="hl-1">/</span><span class="hl-0">tsc</span><br/><span class="hl-0">node_modules</span><span class="hl-1">/.</span><span class="hl-0">bin</span><span class="hl-1">/</span><span class="hl-0">gulp</span><br/><span class="hl-0">node_modules</span><span class="hl-1">/.</span><span class="hl-0">bin</span><span class="hl-1">/</span><span class="hl-0">gulp</span><span class="hl-1"> </span><span class="hl-0">declarations</span><br/><span class="hl-0">node_modules</span><span class="hl-1">/.</span><span class="hl-0">bin</span><span class="hl-1">/</span><span class="hl-0">gulp</span><span class="hl-1"> </span><span class="hl-0">docs</span><br/><span class="hl-0">npm</span><span class="hl-1"> </span><span class="hl-0">publish</span>
</code><button>Copy</button></pre>
<p>Don&#39;t forget to assign an appropriate version number in <code>package.json</code> then git tag the 
release with that version number and push.</p>
<a id="md:build-api-docs-hosted-on-github-pages" class="tsd-anchor"></a><h2><a href="#md:build-api-docs-hosted-on-github-pages">Build API docs (hosted on Github Pages)</a></h2><pre><code><span class="hl-0">node_modules</span><span class="hl-1">/.</span><span class="hl-0">bin</span><span class="hl-1">/</span><span class="hl-0">gulp</span><span class="hl-1"> </span><span class="hl-0">docs</span>
</code><button>Copy</button></pre>
</div></div><div class="col-sidebar"><div class="page-menu"><div class="tsd-navigation settings"><details class="tsd-index-accordion"><summary class="tsd-accordion-summary"><h3><svg width="20" height="20" viewBox="0 0 24 24" fill="none"><use href="assets/icons.svg#icon-chevronDown"></use></svg>Settings</h3></summary><div class="tsd-accordion-details"><div class="tsd-filter-visibility"><h4 class="uppercase">Member Visibility</h4><form><ul id="tsd-filter-options"><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-protected" name="protected"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Protected</span></label></li><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-private" name="private"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Private</span></label></li><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-inherited" name="inherited" checked/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Inherited</span></label></li></ul></form></div><div class="tsd-theme-toggle"><h4 class="uppercase">Theme</h4><select id="tsd-theme"><option value="os">OS</option><option value="light">Light</option><option value="dark">Dark</option></select></div></div></details></div><details open class="tsd-index-accordion tsd-page-navigation"><summary class="tsd-accordion-summary"><h3><svg width="20" height="20" viewBox="0 0 24 24" fill="none"><use href="assets/icons.svg#icon-chevronDown"></use></svg>On This Page</h3></summary><div class="tsd-accordion-details"><a href="#md:nft-netsuite-fasttrack-toolkit"><span>NFT (<wbr/>Net<wbr/>Suite <wbr/>Fasttrack <wbr/>Toolkit)</span></a><a href="#md:getting-started-typescript"><span>Getting <wbr/>Started (<wbr/>Typescript)</span></a><ul><li><a href="#md:deploy-core-library-to-ns"><span>Deploy core library to NS</span></a></li><li><a href="#md:netsuite-data-access-layer-nsdal"><span>Net<wbr/>Suite <wbr/>Data <wbr/>Access <wbr/>Layer (NSDAL)</span></a></li><li><ul><li><a href="#md:overview-example"><span>Overview <wbr/>Example</span></a></li></ul></li><li><a href="#md:custom-records"><span>Custom <wbr/>Records</span></a></li><li><a href="#md:sublists-and-subrecords"><span>Sublists and <wbr/>Subrecords</span></a></li><li><ul><li><a href="#md:bodysublist-field-name-conflicts"><span>Body/<wbr/>Sublist <wbr/>Field <wbr/>Name <wbr/>Conflicts</span></a></li><li><ul><li><a href="#md:sublist-dynamic-mode-vs-standard-mode"><span>Sublist <wbr/>Dynamic <wbr/>Mode vs <wbr/>Standard <wbr/>Mode</span></a></li></ul></li></ul></li><li><a href="#md:search-helpers"><span>Search <wbr/>Helpers</span></a></li><li><ul><li><a href="#md:lazy-search"><span>Lazy <wbr/>Search</span></a></li><li><a href="#md:lazy-query"><span>Lazy <wbr/>Query</span></a></li><li><a href="#md:governance"><span>Governance</span></a></li></ul></li><li><a href="#md:logging"><span>Logging</span></a></li><li><ul><li><a href="#md:autologging"><span>Auto<wbr/>Logging</span></a></li></ul></li></ul><a href="#md:contributing"><span>Contributing</span></a><a href="#md:typescript"><span>Type<wbr/>Script</span></a><ul><li><a href="#md:netsuite-module-declarations"><span>Net<wbr/>Suite <wbr/>Module <wbr/>Declarations</span></a></li></ul><a href="#md:tests"><span>Tests</span></a><a href="#md:for-contributors"><span>For <wbr/>Contributors</span></a><ul><li><a href="#md:build-and-publish"><span>Build and <wbr/>Publish</span></a></li><li><a href="#md:build-api-docs-hosted-on-github-pages"><span>Build API docs (hosted on <wbr/>Github <wbr/>Pages)</span></a></li></ul></div></details></div><div class="site-menu"><nav class="tsd-navigation"><a href="index.html" class="current"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="assets/icons.svg#icon-1"></use></svg><span>NetSuite FastTrack Toolkit (NFT) - v7.3.0</span></a><ul class="tsd-small-nested-navigation" id="tsd-nav-container" data-base="."><li>Loading...</li></ul></nav></div></div></div><footer><p class="tsd-generator">Generated using <a href="https://typedoc.org/" target="_blank">TypeDoc</a></p></footer><div class="overlay"></div></body></html>